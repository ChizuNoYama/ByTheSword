[gd_scene load_steps=7 format=3 uid="uid://c6wxumu0ff6t1"]

[ext_resource type="Script" path="res://Scripts/Controllers/DungeonSceneController.cs" id="1_fr4et"]
[ext_resource type="TileSet" uid="uid://dwg8gdun4obil" path="res://Assets/Tiles/TileMaps/DungeonTM.tres" id="1_ikre6"]
[ext_resource type="Texture2D" uid="uid://8rwm5tbr0tar" path="res://Assets/Sprites/RedTriangle.png" id="2_i85ev"]
[ext_resource type="Script" path="res://Scripts/Entities/Player.cs" id="3_mv83x"]
[ext_resource type="PackedScene" uid="uid://bhpkkh63dnwbu" path="res://Scenes/Entities/enemy.tscn" id="5_mhg55"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pys0d"]
size = Vector2(32, 32)

[node name="Root" type="Node2D"]
script = ExtResource("1_fr4et")
metadata/_edit_group_ = true

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("1_ikre6")
format = 2
layer_0/name = "Floor"
layer_0/tile_data = PackedInt32Array(131073, 65536, 1, 196609, 65536, 1, 262145, 65536, 1, 327681, 65536, 1, 131074, 65536, 1, 196610, 65536, 1, 262146, 65536, 1, 327682, 65536, 1, 131075, 65536, 1, 196611, 65536, 1, 262147, 65536, 1, 327683, 65536, 1, 131076, 65536, 1, 196612, 65536, 1, 262148, 65536, 1, 327684, 65536, 1, 131077, 65536, 1, 196613, 65536, 1, 327685, 65536, 1, 131078, 65536, 1, 196614, 65536, 1, 262150, 65536, 1, 327686, 65536, 1, 131079, 65536, 1, 196615, 65536, 1, 262151, 65536, 1, 327687, 65536, 1, 131080, 65536, 1, 196616, 65536, 1, 262152, 65536, 1, 327688, 65536, 1, 131081, 65536, 1, 196617, 65536, 1, 262153, 65536, 1, 327689, 65536, 1, 131082, 65536, 1, 196618, 65536, 1, 262154, 65536, 1, 327690, 65536, 1, 327691, 65536, 1, 327692, 65536, 1, 327693, 65536, 1, 393217, 65536, 1, 393218, 65536, 1, 393219, 65536, 1, 393220, 65536, 1, 393221, 65536, 1, 393222, 65536, 1, 393223, 65536, 1, 393224, 65536, 1, 393225, 65536, 1, 393226, 65536, 1, 393227, 65536, 1, 393228, 65536, 1, 393229, 65536, 1, 65537, 65536, 1, 65538, 65536, 1, 65539, 65536, 1, 65540, 65536, 1, 65541, 65536, 1, 65542, 65536, 1, 65543, 65536, 1, 65544, 65536, 1, 65545, 65536, 1, 65546, 65536, 1, 262149, 65536, 1, 458755, 65536, 1, 524291, 65536, 1, 589827, 65536, 1, 655363, 65536, 1, 458756, 65536, 1, 524292, 65536, 1, 589828, 65536, 1, 655364, 65536, 1, 720899, 65536, 1, 786435, 65536, 1, 786436, 65536, 1, 720900, 65536, 1, 720901, 65536, 1, 786437, 65536, 1, 786438, 65536, 1, 786439, 65536, 1, 720903, 65536, 1, 720902, 65536, 1, 655365, 131072, 1, 655366, 131072, 1, 655367, 131072, 1, 655368, 131072, 1, 720904, 131072, 1, 786440, 131072, 1, 655369, 65536, 1, 720905, 65536, 1, 786441, 65536, 1, 655370, 65536, 1, 720906, 65536, 1, 786442, 65536, 1, 655371, 65536, 1, 720907, 65536, 1, 786443, 65536, 1, 655372, 65536, 1, 720908, 65536, 1, 786444, 65536, 1, 655373, 65536, 1, 720909, 65536, 1, 786445, 65536, 1, 655374, 65536, 1, 720910, 65536, 1, 786446, 65536, 1, 655375, 65536, 1, 720911, 65536, 1, 786447, 65536, 1, 655376, 65536, 1, 720912, 65536, 1, 786448, 65536, 1, 655377, 65536, 1, 720913, 65536, 1, 786449, 65536, 1, 327696, 65536, 1, 393232, 65536, 1, 458768, 65536, 1, 524304, 65536, 1, 589840, 65536, 1, 327697, 65536, 1, 393233, 65536, 1, 458769, 65536, 1, 524305, 65536, 1, 589841, 65536, 1, 262160, 65536, 1, 262161, 65536, 1)
layer_1/name = "Walls"
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = false
layer_1/y_sort_origin = 0
layer_1/z_index = 1
layer_1/tile_data = PackedInt32Array(0, 65537, 2, 65536, 1, 2, 131072, 1, 2, 196608, 1, 2, 262144, 1, 2, 327680, 1, 2, 393216, 1, 3, 393217, 65537, 3, 393218, 131073, 3, 393221, 196609, 3, 393222, 65537, 3, 393223, 65537, 3, 393224, 65537, 3, 393225, 65537, 3, 393226, 65537, 3, 393227, 65537, 3, 393228, 65537, 3, 393229, 65537, 3, 393230, 327681, 3, 327694, 327681, 2, 65537, 393217, 4, 1, 393217, 0, 2, 393217, 0, 3, 393217, 0, 4, 393217, 0, 5, 393217, 0, 6, 393217, 0, 7, 393217, 0, 8, 393217, 0, 9, 393217, 0, 10, 393217, 0, 11, 393217, 0, 12, 393217, 0, 13, 393217, 0, 14, 262145, 2, 65550, 327681, 2, 131086, 327681, 2, 196622, 327681, 2, 262158, 327681, 2, 65538, 393217, 2, 65539, 393217, 2, 65540, 393217, 2, 65541, 393217, 2, 65542, 393217, 2, 65543, 393217, 2, 65544, 393217, 2, 65545, 393217, 2, 65546, 393217, 2, 65547, 393217, 2, 65548, 393217, 2, 65549, 393217, 2, 458754, 131073, 1, 524290, 131073, 1, 589826, 131073, 1, 655362, 131073, 1, 458757, 196609, 1, 524293, 196609, 1, 589829, 196609, 2, 720898, 1, 2, 786434, 1, 3, 786435, 65537, 3, 786436, 65537, 3, 786437, 65537, 3, 589830, 393217, 0, 655366, 393217, 2, 589831, 393217, 0, 655367, 393217, 2, 589832, 393217, 0, 655368, 393217, 2, 786438, 262145, 3, 786439, 262145, 3, 786440, 262145, 3, 786441, 262145, 3, 786442, 262145, 3, 786443, 262145, 3, 786444, 262145, 3, 786445, 262145, 3, 786446, 262145, 3, 786447, 262145, 3, 786448, 262145, 3, 786449, 262145, 3, 786450, 327681, 3, 589833, 393217, 0, 589834, 393217, 0, 589835, 393217, 0, 589836, 393217, 0, 589837, 393217, 0, 589838, 393217, 0, 589839, 131073, 2, 589842, 327681, 2, 655378, 327681, 2, 655369, 393217, 2, 655370, 393217, 2, 655371, 393217, 2, 655372, 393217, 2, 655373, 393217, 2, 655374, 393217, 2, 655375, 393217, 2, 327695, 1, 2, 393231, 1, 2, 458767, 1, 2, 524303, 1, 2, 327698, 327681, 2, 393234, 327681, 2, 458770, 327681, 2, 524306, 327681, 2, 196624, 393217, 0, 196625, 393217, 0, 262160, 393217, 2, 262161, 393217, 2, 196623, 65537, 2, 196626, 262145, 2, 262162, 327681, 2, 262159, 1, 2, 458758, 65537, 1, 524294, 65537, 1, 458759, 65537, 1, 524295, 65537, 1, 458760, 65537, 1, 524296, 65537, 1, 458761, 65537, 1, 524297, 65537, 1, 458762, 65537, 1, 524298, 65537, 1, 458763, 65537, 1, 524299, 65537, 1, 458764, 65537, 1, 524300, 65537, 1, 458765, 65537, 1, 524301, 65537, 1, 458766, 65537, 1, 524302, 65537, 1, 655365, 393217, 2, 720914, 327681, 2, 458752, 65537, 1, 458753, 65537, 1, 524289, 65537, 1, 589825, 65537, 1, 589824, 65537, 1, 524288, 65537, 1, 655360, 65537, 1, 655361, 65537, 1, 720897, 65537, 1, 786433, 65537, 1, 786432, 65537, 1, 720896, 65537, 1, 851968, 65537, 1, 851969, 65537, 1, 851970, 65537, 1, 851971, 65537, 1, 851972, 65537, 1, 851973, 65537, 1, 851974, 65537, 1, 851975, 65537, 1, 851976, 65537, 1, 851977, 65537, 1, 851978, 65537, 1, 851979, 65537, 1, 851980, 65537, 1, 851983, 65537, 1, 851984, 65537, 1, 851985, 65537, 1, 851986, 65537, 1, 851982, 65537, 1, 851981, 65537, 1, 131090, 65537, 1, 65553, 65537, 1, 16, 65537, 1, 15, 65537, 1, 65551, 65537, 1, 65552, 65537, 1, 131088, 65537, 1, 131087, 65537, 1, 131089, 65537, 1, 65554, 65537, 1, 18, 65537, 1, 17, 65537, 1)
layer_2/name = "Furniture"
layer_2/enabled = true
layer_2/modulate = Color(1, 1, 1, 1)
layer_2/y_sort_enabled = false
layer_2/y_sort_origin = 0
layer_2/z_index = 2
layer_2/tile_data = PackedInt32Array(327696, 65538, 4)
layer_3/name = "Items"
layer_3/enabled = true
layer_3/modulate = Color(1, 1, 1, 1)
layer_3/y_sort_enabled = false
layer_3/y_sort_origin = 0
layer_3/z_index = 3
layer_3/tile_data = PackedInt32Array()
layer_4/name = "FloorPit"
layer_4/enabled = true
layer_4/modulate = Color(1, 1, 1, 1)
layer_4/y_sort_enabled = false
layer_4/y_sort_origin = 0
layer_4/z_index = 0
layer_4/tile_data = PackedInt32Array(65547, 262144, 0, 131083, 262144, 1, 196619, 262144, 1, 262155, 262144, 2, 65548, 327680, 0, 131084, 327680, 1, 196620, 327680, 1, 262156, 327680, 2, 65549, 393216, 0, 131085, 393216, 1, 196621, 393216, 1, 262157, 393216, 2, 196612, 327680, 1, 262148, 327680, 1, 131076, 327680, 1, 65540, 327680, 0)
layer_5/name = "Doors"
layer_5/enabled = true
layer_5/modulate = Color(1, 1, 1, 1)
layer_5/y_sort_enabled = false
layer_5/y_sort_origin = 0
layer_5/z_index = 1
layer_5/tile_data = PackedInt32Array()

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
position = Vector2(64, 96)
collision_layer = 2
collision_mask = 29
input_pickable = true
script = ExtResource("3_mv83x")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(16, 16)
shape = SubResource("RectangleShape2D_pys0d")

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D"]
z_index = 2
texture = ExtResource("2_i85ev")
centered = false

[node name="Enemy" parent="." instance=ExtResource("5_mhg55")]
